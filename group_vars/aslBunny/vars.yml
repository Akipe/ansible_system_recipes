---

# Lenovo Thinkad X200

ansible_python_interpreter: /usr/bin/python
ansible_user:               "{{ user_name }}"
ansible_become_pass:        "{{ vault_ansible_become_pass }}"

hostname_name: aslbunny

ssh_users:
  - name:       "{{ user_name }}"
    public_key: "{{ ssh_public_key }}"

users_create:
  - username: "{{ user_name }}"
    shell: /bin/bash
    groups: users,wheel,storage,power,network
    public_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDQF05BaRNIo6+CL5lYFSKSljMDRyE+vDPr3+IQYiHJ613cEo2TYQAK2vDv/gIZsDXAsVxnzUogQ1f7Jp4USceQ//d/QUdWAZkQfHH6Mvg5i30In8/YHVulSe1ENc6XGmVkmmc75mcd6CXWVEh0liQB6SwDRBO42rU4uhOUr77vs+wodCCSh6vF0whloOtm4jQhECAmnccnNKgBDkc35wfG3ugrfLFwRzhhvUDA0+CJG09yNT3Zg1Vx9OXasU0e+AoL722UN0UWuWtgAqNURgJiD4DQhsVZTLeS6HyL8o69bY6OOeAPxf1vE1vN9C1jvT+CSNsqYyPm5q2Putiiks8Pe8ZB0zDUF0qgIeOyJ+FuidMDJSzYJf7DGmzQQ90Pas9G3vUpWvkkJ1xMvtnnX2VcUBwKq52WvQfJkULYSqUJYwvk4XQ9uH1rqnkNtDPR08iyTaoQrjQgjGvaikm0v4jTjlweQjfW+Tivta51VSwhMDwKsAJthiV+F1iaBs5VU3psh28gv9fTKkOXhR+V7n2D3Pv4VKPsaww8PmMAZpEJGTDgXwim86XBkuRK0p2oWqbRx0eYG67It/A7Yo8MOxGlK3TXLJyC18z1iiwtDr37NnKfl/1NBpFVSe063Egu6XDmYpINwyha+v8Dm+ZdzFMtoGqQPZHn+FrdHfIr4/I10Q== cardno:000607318198"

locale_keyboard_map: fr

encryption_boot_option: "akpsystem LABEL=akpcryptsystem none timeout=180,discard"

bootloader_timeout: 5
bootloader_options:
  # - "cryptdevice=PARTLABEL=akpcryptsystem:akpsystem:allow-discards"
  # - "rd.luks.name=6bf252b1-248c-4e03-86de-2d6bf7b276de=cryptroot"
  # - "rd.luks.options=discard"
  - "root=/dev/mapper/akpsystem-root"
  - "resume=/dev/mapper/akpsystem-swap"
  - "audit=1"
#  - "splash"
#  - "cryptdevice=PARTLABEL=akpcryptsystem:akpsystem:allow-discards" # old
#  - "root=/dev/mapper/akpsystem" # old
# - "apparmor=1 lsm=lockdown,yama,apparmor"
# - "audit=1"
# - "usbhid.quirks=0x1b1c:0x1b55:0x20000408"

# networks:
#   - name:           akpnet
#     conn_name:      my-enp7s0
#     ifname:         enp7s0
#     type:           ethernet
#     mtu:            9000
#     firewall_zone:  home
#   - name:           akpnet10g2
#     conn_name:      my-enp4s0
#     ifname:         enp4s0
#     type:           ethernet
#     ipv6:           "{{ network_akpnet10g2_asdBuild_ipv6 }}"
#     mtu:            9000
#     firewall_zone:  home

intelgraphics_install_vulkan:       no
intelgraphics_install_video_driver: libva-intel-driver-g45
intelgraphics_install_video_utils:  yes
intelgraphics_install_gpgpu_driver: intel-opencl-runtime
intelgraphics_install_gpgpu_utils:  yes

hardware_disks:
  - system:
    id: "{{ ansible_devices.sda.links.ids[0] }}"
    smartmontools:
      parameters: -a -d sat -o on -S on -s (S/../.././06|L/../../1/10)

mkinitcpio_initramfs_modules:
  - i915
  - dm_mod
  - dm_crypt
  - ext4
  - vfat
  - sha256
  - sha512
  - crc32c-intel
mkinitcpio_initramfs_hooks:
  - base
  # - udev
  - systemd
  - sd-plymouth
  - autodetect
  - keyboard
  # - keymap
  - sd-vconsole
  - modconf
  - block
  # - encrypt
  - sd-encrypt
  # - lvm2
  - sd-lvm2
  - filesystems
  # - resume
  - fsck
mkinitcpio_initramfs_compression: lz4

earlyoom_config_memory_minimum_percent: "2"
earlyoom_config_swap_minimum_percent:   "2"

makepkg_build_from_tmp: false

exfat_use_kernel_driver: yes
