---
# Asus Prime x470 Pro + AMD Ryzen 1700X

ansible_python_interpreter: /usr/bin/python
ansible_user: "{{ user_name }}"
ansible_become_pass: "{{ vault_ansible_become_pass }}"

hostname_name: akpdesktopbuild

bootloader_timeout: 20
bootloader_options:
  - "cryptdevice=PARTLABEL=akpcryptsystem:akpsystem:allow-discards"
  - "root=/dev/mapper/akpsystem"
  - "rootflags=subvol=@root"
  - "rd.luks.options=discard"
  - "resume=/dev/mapper/akpsystem"
  - "resume_offset={{ swap_file_offset_command.stdout }}"
  - "apparmor=1 lsm=lockdown,yama,apparmor"
  - "audit=1"
  # - "usbhid.quirks=0x1b1c:0x1b55:0x20000408"
  - "quiet"
  - "rw"

hardware_cpu_vendor: AMD
hardware_gpu_vendor: AMD
hardware_disks:
  - system:
    id: "{{ ansible_devices.sda.links.ids[0] }}"
    smartmontools:
      parameters: -a -d sat -o on -S on -s (S/../.././06|L/../../1/10)

initramfs_modules:
  - amdgpu
  - dm_mod
  - dm_crypt
  - btrfs
  - ext4
  - vfat
  - sha256
  - sha512
  - crc32c-intel
initramfs_binaries:
  - /usr/bin/btrfs
initramfs_hooks:
  - base
  - udev
  - autodetect
  - modconf
  - block
  - keyboard
  - keymap
  - encrypt
  - filesystems
  - resume
initramfs_compression:  lz4
