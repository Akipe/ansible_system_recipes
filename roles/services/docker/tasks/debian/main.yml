---
- name: Add Docker official repository
  include_role:
    name: apt
    tasks_from: add_repository
  vars:
    add_repository:
      - key:
          id: "{{ role_repository_ubuntu_key_id }}"
          url: "{{ role_repository_ubuntu_key_url }}"
        repository:
          repo: "{{ role_repository_ubuntu_expression }}"
          filename: "{{ role_repository_ubuntu_filename }}"

- name: Install Docker CE
  apt:
    name: "{{ role_appToInstall_debian }}"
    state: present
    update_cache: yes

# - name: Install NDP Proxy Daemon
#   apt:
#     name: ndppd
#     state: present

# - name: Configure NDP Proxy Daemon
#   copy:
#     src: ndppd/ndppd.conf
#     dest: /etc/ndppd.conf
#     owner: root
#     group: root
#     mode: 0644
#   notify: Restart Ndppd

# - name: Enable proxy_ndp for public adapter
#   sysctl:
#     name: net.ipv6.conf.enp6s0.proxy_ndp
#     value: 1
#     state: present

# To check
# sudo sysctl net.ipv6.conf.all.forwarding=1
# sudo sysctl net.ipv6.conf.default.forwarding=1
# sudo sysctl "net.ipv6.conf.enp6s0.accept_ra=2"